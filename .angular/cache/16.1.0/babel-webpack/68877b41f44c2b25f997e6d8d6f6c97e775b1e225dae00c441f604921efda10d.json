{"ast":null,"code":"import { Subscription } from 'rxjs';\nimport { EditLogEntryFormComponent } from '../edit-log-entry-form/edit-log-entry-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared-service/dbservice.service\";\nimport * as i2 from \"../log-entries.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nfunction ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 15);\n    i0.ɵɵelementStart(1, \"ion-col\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-col\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-col\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-col\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const entry_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 4, entry_r2.fuelEntryDetail.amount, \".2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", entry_r2.fuelEntryDetail.amountUnit, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(8, 7, entry_r2.fuelEntryDetail.priceUnit, \".2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(11, 10, entry_r2.fuelEntryDetail.distance / entry_r2.fuelEntryDetail.amount, \"1.2-2\"), \" km/l\");\n  }\n}\nfunction ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 13);\n    i0.ɵɵlistener(\"click\", function ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_Template_ng_container_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const entry_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.showDetail(entry_r2));\n    });\n    i0.ɵɵelementStart(1, \"ion-col\", 1);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-col\", 2);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-col\", 3);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-col\", 4);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_ng_container_10_Template, 12, 13, \"ng-container\", 14);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const entry_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 5, entry_r2.logEntryDetail.date, \"dd.MM.yy\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", entry_r2.logEntryDetail.distanceStart, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", entry_r2.logEntryDetail.distanceEnd, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", entry_r2.logEntryDetail.description, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", entry_r2.logEntryDetail.fuel);\n  }\n}\nfunction ListLogEntriesComponent_div_18_ion_row_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-row\");\n    i0.ɵɵtemplate(1, ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_Template, 11, 8, \"ng-container\", 11);\n    i0.ɵɵelementStart(2, \"ion-col\", 12);\n    i0.ɵɵlistener(\"click\", function ListLogEntriesComponent_div_18_ion_row_1_Template_ion_col_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r3 = restoredCtx.index;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.delete(i_r3));\n    });\n    i0.ɵɵtext(3, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r3 <= 10);\n  }\n}\nfunction ListLogEntriesComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ListLogEntriesComponent_div_18_ion_row_1_Template, 4, 1, \"ion-row\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.logEntries);\n  }\n}\nconst LOG_ENTRIES_STORE_NAME = 'LogEntries';\nconst FUEL_ENTRIES_STORE_NAME = 'FuelEntries';\nexport class ListLogEntriesComponent {\n  constructor(db, logEntriesService, modalCtrl) {\n    this.db = db;\n    this.logEntriesService = logEntriesService;\n    this.modalCtrl = modalCtrl;\n    this.logEntries = new Array();\n    this.logEntriesSub = new Subscription();\n    console.log('constructor ListLigEntriesComponent', db.getDatabase());\n    logEntriesService.getAllData();\n  }\n  showDetail(selectedEntry) {\n    console.log('showDetail input', selectedEntry);\n    this.modalCtrl.create({\n      component: EditLogEntryFormComponent,\n      componentProps: {\n        selectedEntry: selectedEntry\n      }\n    }).then(modalEl => {\n      modalEl.present();\n      return modalEl.onDidDismiss();\n    }); /*\n        .then(resultData => {\n        console.log(resultData.data, resultData.role);\n        if (resultData.role === 'confirm') {\n        console.log('BOOKED!');\n        }\n        });*/\n  }\n\n  delete(logEntryId) {\n    console.log('delete logentryId ' + logEntryId);\n    this.logEntriesService.delete(this.logEntries[logEntryId].LogEntryDetail.id).then(result => {\n      console.log('logEntryId ' + logEntryId + ' is deleted', result);\n      this.logEntries.splice(logEntryId, 1);\n    }, reject => console.error('delete failed', reject)).catch(reason => console.error('deleted of logEntryKey ' + logEntryId + ' is failed')).finally(() => console.log('finaly '));\n  }\n  getAllData() {\n    this.logEntriesService.getAllData();\n  }\n  ngOnInit() {\n    this.logEntriesSub = this.logEntriesService.getEntries().subscribe(logEntries => {\n      if (logEntries) {\n        if (Array.isArray(logEntries)) {\n          // is logEntries an Array, then concat\n          this.logEntries = this.logEntries.concat(logEntries);\n        } else {\n          // if logentries isn't an Array then add it first in the array\n          const index = this.logEntries.findIndex(entry => entry.logEntryDetail.id === logEntries.LogEntryDetail.id);\n          if (index < 0) {\n            this.logEntries.unshift(logEntries);\n          } else {\n            this.logEntries.fill(logEntries, index, index + 1);\n          }\n        }\n        // sort the Array on object LogEntry.logEntryDetail.distanceStart, and then reverse the Array, så the higest distanceStart is first\n        this.logEntries.sort((a, b) => b.logEntryDetail.timestamp - a.logEntryDetail.timestamp);\n      }\n    });\n  }\n}\nListLogEntriesComponent.ɵfac = function ListLogEntriesComponent_Factory(t) {\n  return new (t || ListLogEntriesComponent)(i0.ɵɵdirectiveInject(i1.DBServiceService), i0.ɵɵdirectiveInject(i2.LogEntriesService), i0.ɵɵdirectiveInject(i3.ModalController));\n};\nListLogEntriesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListLogEntriesComponent,\n  selectors: [[\"app-list-log-entries\"]],\n  decls: 19,\n  vars: 1,\n  consts: [[1, \"ion-no-padding\"], [1, \"field-date\"], [1, \"field-start-km\", \"ion-text-end\"], [1, \"field-end-km\", \"ion-text-end\"], [1, \"field-description\"], [1, \"field-amount\", \"ion-text-end\", \"ion-hide-md-down\"], [1, \"field-unit\", \"ion-hide-md-down\"], [1, \"field-price-unit\", \"ion-text-end\", \"ion-hide-md-down\"], [1, \"field-distance-unit\", \"ion-hide-md-\", \"ion-hide-md-down\", \"ion-text-end\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\", 4, \"ngIf\"], [1, \"log-entry-delete\", 3, \"click\"], [3, \"click\"], [\"class\", \"\", 4, \"ngIf\"], [1, \"\"], [1, \"field-distance-unit\", \"ion-text-end\", \"ion-hide-md-down\"]],\n  template: function ListLogEntriesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-grid\", 0)(1, \"ion-row\")(2, \"ion-col\", 1);\n      i0.ɵɵtext(3, \" dato\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-col\", 2);\n      i0.ɵɵtext(5, \" start km \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"ion-col\", 3);\n      i0.ɵɵtext(7, \" slut km\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"ion-col\", 4);\n      i0.ɵɵtext(9, \" Beskrivelse\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"ion-col\", 5);\n      i0.ɵɵtext(11, \" antal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"ion-col\", 6);\n      i0.ɵɵtext(13, \" enhed\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ion-col\", 7);\n      i0.ɵɵtext(15, \" pris pr. enhed\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ion-col\", 8);\n      i0.ɵɵtext(17, \" distance pr enhed \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(18, ListLogEntriesComponent_div_18_Template, 2, 1, \"div\", 9);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngIf\", ctx.logEntries);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i3.IonCol, i3.IonGrid, i3.IonRow, i4.DecimalPipe, i4.DatePipe],\n  styles: [\"ion-col[_ngcontent-%COMP%] {\\n  flex: 0 0 auto;\\n  margin: 0.5ch;\\n  padding: 0;\\n}\\n\\n.field-date[_ngcontent-%COMP%] {\\n  width: 7ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-start-km[_ngcontent-%COMP%] {\\n  width: 6ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-end-km[_ngcontent-%COMP%] {\\n  width: 6ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-description[_ngcontent-%COMP%] {\\n  width: 13ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-amount[_ngcontent-%COMP%] {\\n  width: 6ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-unit[_ngcontent-%COMP%] {\\n  width: 7ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-price-unit[_ngcontent-%COMP%] {\\n  width: 7ch;\\n  border-width: 0.5ch;\\n}\\n\\n.field-distance-unit[_ngcontent-%COMP%] {\\n  width: 14ch;\\n  border-width: 0.5ch;\\n}\\n\\n@media screen and (min-width: 576px) {\\n  .field-description[_ngcontent-%COMP%] {\\n    width: 50vw;\\n  }\\n}\\n@media screen and (min-width: 680px) {\\n  .field-description[_ngcontent-%COMP%] {\\n    width: 50vw;\\n  }\\n}\\n@media screen and (min-width: 768px) {\\n  .field-description[_ngcontent-%COMP%] {\\n    width: 30vw;\\n  }\\n}\\n@media screen and (min-width: 992px) {\\n  .field-description[_ngcontent-%COMP%] {\\n    width: 35vw;\\n  }\\n}\\n@media screen and (min-width: 1200px) {\\n  .field-description[_ngcontent-%COMP%] {\\n    width: 50vw;\\n  }\\n}\\n.fuel-station[_ngcontent-%COMP%]::after {\\n  content: \\\"&#26FD;\\\";\\n}\\n\\n.log-entry-delete[_ngcontent-%COMP%] {\\n  content: \\\"delete\\\";\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9nRW50cmllcy9saXN0LWxvZy1lbnRyaWVzL2xpc3QtbG9nLWVudHJpZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxjQUFBO0VBQ0QsYUFBQTtFQUNDLFVBQUE7QUFERjs7QUFJQTtFQUNFLFVBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0UsVUFBQTtFQUNBLG1CQUFBO0FBREY7O0FBSUE7RUFDRSxVQUFBO0VBQ0EsbUJBQUE7QUFERjs7QUFJQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0UsVUFBQTtFQUNBLG1CQUFBO0FBREY7O0FBSUE7RUFDRSxVQUFBO0VBQ0EsbUJBQUE7QUFERjs7QUFJQTtFQUNFLFVBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0UsV0FBQTtFQUNBLG1CQUFBO0FBREY7O0FBSUE7RUFDRTtJQUNFLFdBQUE7RUFERjtBQUNGO0FBSUU7RUFDRTtJQUNFLFdBQUE7RUFGSjtBQUNGO0FBT0E7RUFDRTtJQUNFLFdBQUE7RUFMRjtBQUNGO0FBUUE7RUFDRTtJQUNFLFdBQUE7RUFORjtBQUNGO0FBVUE7RUFDRTtJQUNFLFdBQUE7RUFSRjtBQUNGO0FBWUE7RUFDRSxrQkFBQTtBQVZGOztBQWFBO0VBQ0UsaUJBQUE7QUFWRiIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5pb24tY29sIHtcbiAgZmxleDogMCAwIGF1dG87XG4gbWFyZ2luOiAwLjVjaDtcbiAgcGFkZGluZzogMDtcbiB9XG5cbi5maWVsZC1kYXRlIHtcbiAgd2lkdGg6IDdjaDtcbiAgYm9yZGVyLXdpZHRoOiAwLjVjaDtcbn1cblxuLmZpZWxkLXN0YXJ0LWttIHtcbiAgd2lkdGg6IDZjaDtcbiAgYm9yZGVyLXdpZHRoOiAwLjVjaDtcbn1cblxuLmZpZWxkLWVuZC1rbSB7XG4gIHdpZHRoOiA2Y2g7XG4gIGJvcmRlci13aWR0aDogMC41Y2g7XG59XG5cbi5maWVsZC1kZXNjcmlwdGlvbiB7XG4gIHdpZHRoOiAxM2NoO1xuICBib3JkZXItd2lkdGg6IDAuNWNoO1xufVxuXG4uZmllbGQtYW1vdW50IHtcbiAgd2lkdGg6IDZjaDtcbiAgYm9yZGVyLXdpZHRoOiAwLjVjaDtcbn1cblxuLmZpZWxkLXVuaXQge1xuICB3aWR0aDogN2NoO1xuICBib3JkZXItd2lkdGg6IDAuNWNoO1xufVxuXG4uZmllbGQtcHJpY2UtdW5pdCB7XG4gIHdpZHRoOiA3Y2g7XG4gIGJvcmRlci13aWR0aDogMC41Y2g7XG59XG5cbi5maWVsZC1kaXN0YW5jZS11bml0IHtcbiAgd2lkdGg6IDE0Y2g7XG4gIGJvcmRlci13aWR0aDogMC41Y2g7XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDU3NnB4KSB7XG4gIC5maWVsZC1kZXNjcmlwdGlvbiB7XG4gICAgd2lkdGg6IDUwdnc7XG4gIH1cbn1cblxuICBAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA2ODBweCkge1xuICAgIC5maWVsZC1kZXNjcmlwdGlvbiB7XG4gICAgICB3aWR0aDogNTB2dztcbiAgICB9XG5cblxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xuICAuZmllbGQtZGVzY3JpcHRpb24ge1xuICAgIHdpZHRoOiAzMHZ3O1xuICB9XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk5MnB4KSB7XG4gIC5maWVsZC1kZXNjcmlwdGlvbiB7XG4gICAgd2lkdGg6IDM1dnc7XG4gIH1cblxufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjAwcHgpIHtcbiAgLmZpZWxkLWRlc2NyaXB0aW9uIHtcbiAgICB3aWR0aDogNTB2dztcbiAgfVxuXG59XG5cbi5mdWVsLXN0YXRpb246OmFmdGVyIHtcbiAgY29udGVudDogXCImIzI2RkRcXDtcIjtcbn1cblxuLmxvZy1lbnRyeS1kZWxldGUge1xuICBjb250ZW50OiAnZGVsZXRlJztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["Subscription","EditLogEntryFormComponent","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","entry_r2","fuelEntryDetail","amount","amountUnit","priceUnit","distance","ɵɵlistener","ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_Template_ng_container_click_0_listener","ɵɵrestoreView","_r9","ɵɵnextContext","$implicit","ctx_r7","ɵɵresetView","showDetail","ɵɵtemplate","ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_ng_container_10_Template","logEntryDetail","date","distanceStart","distanceEnd","description","ɵɵproperty","fuel","ListLogEntriesComponent_div_18_ion_row_1_ng_container_1_Template","ListLogEntriesComponent_div_18_ion_row_1_Template_ion_col_click_2_listener","restoredCtx","_r12","i_r3","index","ctx_r11","delete","ListLogEntriesComponent_div_18_ion_row_1_Template","ctx_r0","logEntries","LOG_ENTRIES_STORE_NAME","FUEL_ENTRIES_STORE_NAME","ListLogEntriesComponent","constructor","db","logEntriesService","modalCtrl","Array","logEntriesSub","console","log","getDatabase","getAllData","selectedEntry","create","component","componentProps","then","modalEl","present","onDidDismiss","logEntryId","LogEntryDetail","id","result","splice","reject","error","catch","reason","finally","ngOnInit","getEntries","subscribe","isArray","concat","findIndex","entry","unshift","fill","sort","a","b","timestamp","ɵɵdirectiveInject","i1","DBServiceService","i2","LogEntriesService","i3","ModalController","selectors","decls","vars","consts","template","ListLogEntriesComponent_Template","rf","ctx","ListLogEntriesComponent_div_18_Template"],"sources":["/Volumes/Transcend/ionic/driver-log/src/app/logEntries/list-log-entries/list-log-entries.component.ts","/Volumes/Transcend/ionic/driver-log/src/app/logEntries/list-log-entries/list-log-entries.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DBServiceService } from '../../shared-service/dbservice.service';\nimport { LogEntry } from '../log-entry';\nimport { LogEntriesService } from '../log-entries.service';\nimport { Subscription } from 'rxjs';\nimport { ModalController } from '@ionic/angular';\nimport { EditLogEntryFormComponent } from '../edit-log-entry-form/edit-log-entry-form.component';\n\nconst LOG_ENTRIES_STORE_NAME = 'LogEntries';\nconst FUEL_ENTRIES_STORE_NAME = 'FuelEntries';\n\n@Component({\n  selector: 'app-list-log-entries',\n  templateUrl: './list-log-entries.component.html',\n  styleUrls: ['./list-log-entries.component.scss'],\n})\nexport class ListLogEntriesComponent implements OnInit {\n  logEntries: LogEntry[] = new Array<LogEntry>();\n  private logEntriesSub: Subscription = new Subscription();\n\n  constructor(\n    private db: DBServiceService,\n    private logEntriesService: LogEntriesService,\n    private modalCtrl: ModalController\n  ) {\n    console.log('constructor ListLigEntriesComponent', db.getDatabase());\n    logEntriesService.getAllData();\n  }\n\n  showDetail(selectedEntry: LogEntry) {\n    console.log('showDetail input', selectedEntry);\n    this.modalCtrl\n      .create({\n        component: EditLogEntryFormComponent,\n        componentProps: { selectedEntry: selectedEntry },\n      })\n      .then((modalEl) => {\n        modalEl.present();\n        return modalEl.onDidDismiss();\n      }); /*\n      .then(resultData => {\n        console.log(resultData.data, resultData.role);\n        if (resultData.role === 'confirm') {\n          console.log('BOOKED!');\n        }\n      });*/\n  }\n\n  delete(logEntryId) {\n    console.log('delete logentryId ' + logEntryId);\n    this.logEntriesService\n      .delete(this.logEntries[logEntryId].LogEntryDetail.id)\n      .then(\n        (result: any) => {\n          console.log('logEntryId ' + logEntryId + ' is deleted', result);\n          this.logEntries.splice(logEntryId,1);\n        },\n        (reject) => console.error('delete failed',reject)\n      )\n      .catch((reason: any) =>\n      console.error(\n        'deleted of logEntryKey ' + logEntryId + ' is failed'\n      )\n    )\n      .finally(() => console.log('finaly '))\n      ;\n  }\n\n  getAllData() {\n    this.logEntriesService.getAllData();\n  }\n\n  ngOnInit() {\n    this.logEntriesSub = this.logEntriesService\n      .getEntries()\n      .subscribe((logEntries: LogEntry) => {\n        if (logEntries) {\n          if (Array.isArray(logEntries)) {\n            // is logEntries an Array, then concat\n            this.logEntries = this.logEntries.concat(logEntries);\n          } else {\n            // if logentries isn't an Array then add it first in the array\n            const index = this.logEntries.findIndex(\n              (entry) =>\n                entry.logEntryDetail.id === logEntries.LogEntryDetail.id\n            );\n            if (index < 0) {\n              this.logEntries.unshift(logEntries);\n            } else {\n              this.logEntries.fill(logEntries, index, index + 1);\n            }\n          }\n\n          // sort the Array on object LogEntry.logEntryDetail.distanceStart, and then reverse the Array, så the higest distanceStart is first\n          this.logEntries.sort(\n            (a, b): any =>\n              b.logEntryDetail.timestamp - a.logEntryDetail.timestamp\n          );\n        }\n      });\n  }\n}\n","<ion-grid class=\"ion-no-padding\">\n  <ion-row>\n    <ion-col class=\"field-date\"> dato</ion-col>\n    <ion-col class=\"field-start-km ion-text-end\"> start km </ion-col>\n    <ion-col class=\"field-end-km ion-text-end\"> slut km</ion-col>\n    <ion-col class=\"field-description\" > Beskrivelse</ion-col>\n    <ion-col class=\"field-amount ion-text-end ion-hide-md-down\"> antal</ion-col>\n    <ion-col class=\"field-unit ion-hide-md-down\"> enhed</ion-col>\n    <ion-col class=\"field-price-unit ion-text-end ion-hide-md-down\" > pris pr. enhed</ion-col>\n    <ion-col class=\"field-distance-unit ion-hide-md- ion-hide-md-down ion-text-end\" > distance pr enhed </ion-col>\n  </ion-row>\n  <div *ngIf=\"logEntries\">\n  <ion-row *ngFor=\"let entry of logEntries; index as i\" >\n    <ng-container *ngIf=\"i <= 10\" (click)=\"showDetail(entry)\">\n     <ion-col class=\"field-date\"> {{entry.logEntryDetail.date | date: \"dd.MM.yy\"}}</ion-col>\n     <ion-col class=\"field-start-km ion-text-end\"> {{entry.logEntryDetail.distanceStart}} </ion-col>\n     <ion-col class=\"field-end-km ion-text-end\" > {{entry.logEntryDetail.distanceEnd}}</ion-col>\n     <ion-col class=\"field-description \" > {{entry.logEntryDetail.description}}</ion-col>\n     <ng-container class=\"\" *ngIf=\"entry.logEntryDetail.fuel\">\n      <ion-col class=\"field-amount ion-text-end ion-hide-md-down\"> {{entry.fuelEntryDetail.amount| number: '.2-2'}}</ion-col>\n      <ion-col class=\"field-unit ion-hide-md-down\"> {{entry.fuelEntryDetail.amountUnit}}</ion-col>\n      <ion-col class=\"field-price-unit ion-text-end ion-hide-md-down\"> {{entry.fuelEntryDetail.priceUnit | number: '.2-2'}}</ion-col>\n      <ion-col class=\"field-distance-unit ion-text-end ion-hide-md-down\" > {{entry.fuelEntryDetail.distance/entry.fuelEntryDetail.amount | number:'1.2-2'}} km/l</ion-col>\n     </ng-container>\n  </ng-container>\n  <ion-col class=\"log-entry-delete\" (click)=\"delete(i)\">delete</ion-col>\n\n  </ion-row>\n</div>\n</ion-grid>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}