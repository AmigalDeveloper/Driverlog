{"ast":null,"code":"import _asyncToGenerator from \"/Volumes/Transcend/ionic/driver-log/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EditLogEntryFormComponent } from '../logEntries/edit-log-entry-form/edit-log-entry-form.component';\nimport { UserRegisterComponent } from '../user/user-register/user-register.component';\nimport { LoginComponent } from '../user/login/login.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../user/user.service\";\nimport * as i3 from \"../logEntries/list-log-entries/list-log-entries.component\";\nexport class HomePage {\n  constructor(modalCtrl, userService) {\n    this.modalCtrl = modalCtrl;\n    this.userService = userService;\n  }\n  openModal() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this.modalCtrl.create({\n        component: EditLogEntryFormComponent\n      });\n      modal.present();\n      const {\n        data,\n        role\n      } = yield modal.onWillDismiss();\n      if (role === 'confirm') {\n        console.log('data saved', data);\n      }\n    })();\n  }\n  login() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this2.modalCtrl.create({\n        component: LoginComponent\n      });\n      modal.present();\n      const {\n        data,\n        role\n      } = yield modal.onWillDismiss();\n      console.log('data from modal data:', data, 'role:', role);\n      if (role === 'confirm') {\n        console.log('data saved', data);\n      }\n    })();\n  }\n  register() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield _this3.modalCtrl.create({\n        component: UserRegisterComponent\n      });\n      modal.present();\n      const {\n        data,\n        role\n      } = yield modal.onWillDismiss();\n      if (role === 'confirm') {\n        console.log('data saved', data);\n      }\n    })();\n  }\n  ngOnInit() {\n    const isLoggedIn = this.userService.isLoggedIn();\n    isLoggedIn.then(value => {\n      console.log('result of loggedIn', isLoggedIn);\n      if (value) this.login();\n    });\n    console.log('result of loggedIn', isLoggedIn);\n    //throw new Error('Method not implemented.');\n  }\n}\n\nHomePage.ɵfac = function HomePage_Factory(t) {\n  return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.UserService));\n};\nHomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomePage,\n  selectors: [[\"app-home\"]],\n  decls: 12,\n  vars: 2,\n  consts: [[3, \"translucent\"], [\"slot\", \"end\"], [\"expand\", \"block\", 3, \"click\"], [\"name\", \"add-outline\"], [\"name\", \"person-outline\"], [3, \"fullscreen\"]],\n  template: function HomePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n      i0.ɵɵtext(3, \" DriverLog \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-buttons\", 1)(5, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_5_listener() {\n        return ctx.openModal();\n      });\n      i0.ɵɵelement(6, \"ion-icon\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"ion-buttons\", 1)(8, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_8_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelement(9, \"ion-icon\", 4);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"ion-content\", 5);\n      i0.ɵɵelement(11, \"app-list-log-entries\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"fullscreen\", true);\n    }\n  },\n  dependencies: [i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonTitle, i1.IonToolbar, i3.ListLogEntriesComponent],\n  styles: [\"#container[_ngcontent-%COMP%] {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQUFGOztBQUdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBQUY7O0FBR0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFFQSxjQUFBO0VBRUEsU0FBQTtBQUZGOztBQUtBO0VBQ0UscUJBQUE7QUFGRiIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgdG9wOiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbn1cblxuI2NvbnRhaW5lciBzdHJvbmcge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyNnB4O1xufVxuXG4jY29udGFpbmVyIHAge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xuXG4gIGNvbG9yOiAjOGM4YzhjO1xuXG4gIG1hcmdpbjogMDtcbn1cblxuI2NvbnRhaW5lciBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["EditLogEntryFormComponent","UserRegisterComponent","LoginComponent","HomePage","constructor","modalCtrl","userService","openModal","_this","_asyncToGenerator","modal","create","component","present","data","role","onWillDismiss","console","log","login","_this2","register","_this3","ngOnInit","isLoggedIn","then","value","i0","ɵɵdirectiveInject","i1","ModalController","i2","UserService","selectors","decls","vars","consts","template","HomePage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","HomePage_Template_ion_button_click_5_listener","ɵɵelement","HomePage_Template_ion_button_click_8_listener","ɵɵproperty","ɵɵadvance"],"sources":["/Volumes/Transcend/ionic/driver-log/src/app/home/home.page.ts","/Volumes/Transcend/ionic/driver-log/src/app/home/home.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { EditLogEntryFormComponent } from '../logEntries/edit-log-entry-form/edit-log-entry-form.component';\nimport { UserRegisterComponent } from '../user/user-register/user-register.component';\nimport { LoginComponent } from '../user/login/login.component';\nimport { UserService } from '../user/user.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  constructor(private modalCtrl: ModalController, private userService: UserService) {}\n\n\n  async openModal() {\n    const modal = await this.modalCtrl.create({\n      component: EditLogEntryFormComponent,\n    });\n    modal.present();\n\n    const { data, role } = await modal.onWillDismiss();\n\n    if (role === 'confirm') {\n      console.log('data saved', data);\n    }\n  }\n\n  async login() {\n    const modal = await this.modalCtrl.create({\n      component: LoginComponent,\n    });\n    modal.present();\n\n    const { data, role } = await modal.onWillDismiss();\n    console.log('data from modal data:',data,'role:',role);\n    if (role === 'confirm') {\n      console.log('data saved', data);\n    }\n  }\n\n  async register() {\n    const modal = await this.modalCtrl.create({\n      component: UserRegisterComponent,\n    });\n    modal.present();\n\n    const { data, role } = await modal.onWillDismiss();\n\n    if (role === 'confirm') {\n      console.log('data saved', data);\n    }\n  }\n\n  ngOnInit(): void {\n\n    const isLoggedIn = this.userService.isLoggedIn();\n    isLoggedIn.then(\n\n\n      (value) => {\n        console.log('result of loggedIn', isLoggedIn);\n        if( value) this.login()\n      }\n    )\n\n    console.log('result of loggedIn', isLoggedIn);\n\n\n\n    //throw new Error('Method not implemented.');\n  }\n\n\n\n\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>\n     DriverLog\n    </ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button expand=\"block\" (click)=\"openModal()\" > <ion-icon name=\"add-outline\"></ion-icon> </ion-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\">\n      <ion-button expand=\"block\" (click)=\"login()\" > <ion-icon name=\"person-outline\"></ion-icon> </ion-button>\n    </ion-buttons>\n\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n\n  <!--app-edit-log-entry-form></app-edit-log-entry-form-->\n  <app-list-log-entries></app-list-log-entries>\n\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}