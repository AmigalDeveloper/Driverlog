{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@ionic/angular\";\nexport class LoginComponent {\n  constructor(service, fb, modalCtrl) {\n    this.service = service;\n    this.fb = fb;\n    this.modalCtrl = modalCtrl;\n  }\n  onSubmit(form) {\n    return this.login(this.loginForm);\n  }\n  cancel() {\n    return this.modalCtrl.dismiss(null, 'cancel');\n  }\n  confirm() {\n    return this.modalCtrl.dismiss(this.login(this.loginForm), 'confirm');\n  }\n  login(form) {\n    console.log('UserLoginComponent::login is called');\n    if (form.valid) {\n      this.loginStatus = this.service.register(form).subscribe(resp => {\n        console.log('UserLoginComponent::login resultatet af resp.body ', resp);\n        return resp;\n      });\n    }\n  }\n  ngOnInit() {\n    this.loginForm = this.fb.group({\n      username: new FormControl('', Validators.email),\n      password: new FormControl('', Validators.nullValidator)\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ModalController));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 36,\n  vars: 2,\n  consts: [[\"slot\", \"start\"], [3, \"click\"], [\"slot\", \"end\"], [3, \"formGroup\", \"ngSubmit\"], [\"position\", \"floating\"], [\"color\", \"danger\"], [\"required\", \"\", \"formControlName\", \"username\", \"type\", \"text\"], [\"required\", \"\", \"formControlName\", \"password\", \"type\", \"password\"], [\"required\", \"\", \"formControlName\", \"retypePassword\", \"type\", \"password\", \"appIdenticalpasswordValidator\", \"\"], [\"slot\", \"helper\"], [\"slot\", \"error\"], [\"block\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0)(3, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_ion_button_click_3_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(4, \"cancel\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"ion-title\");\n      i0.ɵɵtext(6, \"Indtast bruger oplysninger \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"ion-buttons\", 2)(8, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_ion_button_click_8_listener() {\n        return ctx.confirm();\n      });\n      i0.ɵɵtext(9, \"Login\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"ion-content\")(11, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.onSubmit(ctx.loginForm);\n      });\n      i0.ɵɵelementStart(12, \"ion-item\")(13, \"ion-label\", 4);\n      i0.ɵɵtext(14, \"E-Mail \");\n      i0.ɵɵelementStart(15, \"ion-text\", 5);\n      i0.ɵɵtext(16, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(17, \"ion-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"ion-item\")(19, \"ion-label\", 4);\n      i0.ɵɵtext(20, \"Password \");\n      i0.ɵɵelementStart(21, \"ion-text\", 5);\n      i0.ɵɵtext(22, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(23, \"ion-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"ion-item\")(25, \"ion-label\", 4);\n      i0.ɵɵtext(26, \"Gentag Password \");\n      i0.ɵɵelementStart(27, \"ion-text\", 5);\n      i0.ɵɵtext(28, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(29, \"ion-input\", 8);\n      i0.ɵɵelementStart(30, \"ion-note\", 9);\n      i0.ɵɵtext(31, \"Gentag password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"ion-note\", 10);\n      i0.ɵɵtext(33, \"Password er ikke ens\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"ion-button\", 11);\n      i0.ɵɵtext(35, \" Login \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n    }\n  },\n  dependencies: [i3.IonButton, i3.IonButtons, i3.IonContent, i3.IonHeader, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonNote, i3.IonText, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","Validators","LoginComponent","constructor","service","fb","modalCtrl","onSubmit","form","login","loginForm","cancel","dismiss","confirm","console","log","valid","loginStatus","register","subscribe","resp","ngOnInit","group","username","email","password","nullValidator","i0","ɵɵdirectiveInject","i1","UserService","i2","FormBuilder","i3","ModalController","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","LoginComponent_Template_ion_button_click_3_listener","ɵɵtext","ɵɵelementEnd","LoginComponent_Template_ion_button_click_8_listener","LoginComponent_Template_form_ngSubmit_11_listener","ɵɵelement","ɵɵadvance","ɵɵproperty","invalid"],"sources":["/Volumes/Transcend/ionic/driver-log/src/app/user/login/login.component.ts","/Volumes/Transcend/ionic/driver-log/src/app/user/login/login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { UserService } from '../user.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm: FormGroup<any> | FormGroup<{\n    username: FormControl<string>;\n    password: FormControl<string>;\n  }>;\n  loginStatus:any;\n  message: string ;\n\n  constructor(private service: UserService, public fb: FormBuilder, private modalCtrl: ModalController) { }\n\n  onSubmit(form: FormGroup) {\n    return this.login(this.loginForm);\n  }\n\n  cancel() {\n    return this.modalCtrl.dismiss(null,'cancel');\n  }\n  confirm() {\n    return this.modalCtrl.dismiss(this.login(this.loginForm),'confirm');\n  }\n\n  login(form: FormGroup){\n    console.log('UserLoginComponent::login is called');\n    if(form.valid){\n      this.loginStatus = this.service.register(form)\n      .subscribe((resp) => {\n        console.log('UserLoginComponent::login resultatet af resp.body ',resp);\n        return resp;\n      });\n\n    }\n  }\n\n  ngOnInit(): void {\n    this.loginForm = this.fb.group({\n      username: new FormControl('', Validators.email),\n      password: new FormControl('', Validators.nullValidator),\n     });\n  }\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"cancel()\">cancel</ion-button>\n    </ion-buttons>\n    <ion-title>Indtast bruger oplysninger </ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"confirm()\">Login</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit(loginForm)\">\n    <ion-item>\n      <ion-label position=\"floating\">E-Mail <ion-text color=\"danger\">*</ion-text></ion-label>\n      <ion-input required formControlName=\"username\" type=\"text\"></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label position=\"floating\">Password <ion-text color=\"danger\">*</ion-text></ion-label>\n      <ion-input required formControlName=\"password\" type=\"password\"></ion-input>\n    </ion-item>\n    <ion-item>\n      <ion-label position=\"floating\">Gentag Password <ion-text color=\"danger\">*</ion-text></ion-label>\n      <ion-input required formControlName=\"retypePassword\" type=\"password\" appIdenticalpasswordValidator></ion-input>\n      <ion-note slot=\"helper\">Gentag password</ion-note>\n      <ion-note slot=\"error\">Password er ikke ens</ion-note>\n    </ion-item>\n    <ion-button block color=\"primary\" type=\"submit\" [disabled]=\"loginForm.invalid\">\n      Login\n    </ion-button>\n  </form>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}